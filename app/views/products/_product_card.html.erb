<div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px; position: relative;">

  <% if product.on_sale? %>
    <span style="
      position: absolute; top: 10px; left: 10px;
      background: red; color: white; padding: 4px 8px;
      border-radius: 4px; font-size: 12px; font-weight: bold;">
      SALE
    </span>
  <% end %>

  <% if product.created_at >= 3.days.ago %>
    <span style="
      position: absolute; top: 10px; right: 10px;
      background: green; color: white; padding: 4px 8px;
      border-radius: 4px; font-size: 12px; font-weight: bold;">
      NEW
    </span>
  <% elsif product.updated_at >= 3.days.ago %>
    <span style="
      position: absolute; top: 10px; right: 10px;
      background: #0d6efd; color: white; padding: 4px 8px;
      border-radius: 4px; font-size: 12px; font-weight: bold;">
      UPDATED
    </span>
  <% end %>

  <% if product.image.attached? %>
    <%= link_to image_tag(
          product.image.variant(resize_to_limit: [200, 200]),
          style: "width: 100%; height: auto; object-fit: contain;"
        ), product_path(product) %>
  <% else %>
    <%= link_to image_tag(
          asset_path("Placeholder.jpg"),
          style: "width: 150px; height: 150px; object-fit: cover;"
        ), product_path(product) %>
  <% end %>

  <h3 class="mt-2">
    <%= link_to product.name, product_path(product) %>
  </h3>

  <p><strong>Category:</strong> <%= product.category&.name %></p>

  <% if product.on_sale? && product.sale_price.present? %>
    <p>
      <strong>Sale Price:</strong>
      <span style="color: red; font-weight: bold;">
        $<%= product.sale_price %>
      </span>
      <br>
      <span style="text-decoration: line-through; color: #777;">
        $<%= product.base_price %>
      </span>
    </p>
  <% else %>
    <p><strong>Price:</strong> $<%= product.base_price %></p>
  <% end %>

  <p><%= truncate(product.description, length: 90) %></p>

</div>
